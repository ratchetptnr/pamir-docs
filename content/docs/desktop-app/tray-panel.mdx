---
title: Tray Panel
description: The main interface â€” SSH access, auto-detected services, and device management.
---

import { Callout } from 'fumadocs-ui/components/callout'

<Callout title="This is the product">
  Everything in the onboarding flow exists to get the user here. The tray panel is what they see every day â€” open the tray, copy a host, connect their IDE, see their services. It should feel instant and obvious.
</Callout>

## Layout

The tray panel has four sections, top to bottom:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â— Distiller-8X29        â†•    âš™  â”‚  â† Header
â”‚   Connected Â· 22ms Â· 3 tunnels  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ACCESS                           â”‚
â”‚                                  â”‚
â”‚  [ ğŸ–¥  Open in VS Code ]        â”‚  â† One-click launch
â”‚                                  â”‚
â”‚  [ >_  SSH Terminal     ]        â”‚
â”‚                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ SERVICES                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸŸ¢ Web Dev (3000)            â”‚ â”‚
â”‚ â”‚    http://localhost:3000     â”‚ â”‚
â”‚ â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ â”‚
â”‚ â”‚ ğŸŸ¢ API Server (8080)        â”‚ â”‚
â”‚ â”‚    http://localhost:8080     â”‚ â”‚
â”‚ â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ â”‚
â”‚ â”‚ ğŸŸ¢ PostgreSQL (5432)        â”‚ â”‚
â”‚ â”‚    localhost:5432            â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Header

```
â— Distiller-8X29        â†•    âš™
  Connected Â· 22ms Â· 3 tunnels
```

- **Status dot** â€” green (connected), yellow (connecting), red (offline), grey (no device)
- **Device name** â€” clickable, opens device dropdown
- **â†• caret** â€” subtle indicator that it's a dropdown
- **âš™ gear** â€” opens settings window (separate window, not in the tray)
- **Status line** â€” connection state + round-trip latency + active tunnel count

### Device Dropdown

Clicking the device name opens a dropdown:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŸ¢ Distiller-8X29     âœ“ â”‚  â† active
â”‚    distiller-8x29        â”‚
â”‚ âš« Distiller-4F01        â”‚  â† offline
â”‚    Offline               â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ + Add Device             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- Lists all paired devices with status
- Checkmark on the active device
- Switching devices refreshes the panel (new host, new services)
- "Add Device" triggers the pairing flow (from the device pairing screen, not sign-in)
- Closes on outside click

---

## Access Section

This is the core of the product. One-click actions to connect to the device.

```
ACCESS

[ ğŸ–¥  Open in VS Code ]

[ >_  SSH Terminal     ]
```

- **Open in VS Code** â€” launches VS Code with an SSH remote connection to the device. One click, user is coding on the Distiller.
- **SSH Terminal** â€” opens a terminal session to the device.

The app manages `~/.ssh/config` behind the scenes:

```
# â”€â”€ Distiller (managed) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Host distiller-8x29
    HostName 192.168.1.42
    User distiller
    Port 22
    IdentityFile ~/.ssh/distiller_ed25519
# â”€â”€ End Distiller â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
```

This means `ssh distiller-8x29` also works from any terminal or IDE manually. But the primary path is the one-click button â€” no copy-paste needed.

<Callout type="info">
  **v1 ships with VS Code only.** The SSH config means other IDEs (Cursor, JetBrains) work via manual `ssh distiller-8x29`, but the one-click button targets VS Code. More IDE buttons can be added later if users request them.
</Callout>

---

## Services Section

Auto-discovered services running on the device, forwarded to localhost. All tunnelling is automatic â€” no manual configuration.

```
SERVICES

ğŸŸ¢ Web Dev (3000)
   http://localhost:3000

ğŸŸ¢ API Server (8080)
   http://localhost:8080

ğŸŸ¢ PostgreSQL (5432)
   localhost:5432
```

Each row shows:
- **Status dot** â€” green (tunnel active), yellow (connecting), red (service stopped on device)
- **Friendly name** â€” auto-labeled from well-known ports
- **Port number** in parentheses
- **Local address** â€” what to use on the user's machine. If the default local port is occupied, the app auto-assigns the next available port.

### Empty State

When no services are detected:

```
SERVICES

No active services detected.

Start a server on your Distiller and
it will appear here automatically.
```

### Auto-Detection Behavior

The app queries the device for listening ports over the SSH connection.

- **On connect**: Full port scan, all services appear immediately
- **Polling**: Every 5 seconds, check for new/stopped services
- **New service**: Tunnel created automatically, appears in list
- **Service stopped**: Dot turns red, stays for 30s (in case it restarts), then fades out
- **Unknown ports**: Labeled "Port XXXX" â€” user can rename (persists across sessions)

---

## Connection States

The tray panel adapts its header based on connection state:

| State | Header shows | Panel content |
| :--- | :--- | :--- |
| **Connected** | `â— Connected Â· 22ms Â· 3 tunnels` | Normal panel â€” access + services |
| **Connecting** | `â— Connecting to Distiller-8X29...` | Dimmed panel, progress in header |
| **Connection lost** | `â— Connection lost Â· Reconnecting (3)...` | Last-known services shown dimmed |
| **Device offline** | `â— Offline Â· Last seen 2h ago` | Recovery option if BLE available |
| **No devices** | `No devices paired` | Empty state with "Add Device" CTA |

---

## What to Build â€” Order

1. **Header** with device name, status dot, status line, gear icon
2. **Access section** with "Open in VS Code" and "SSH Terminal" buttons
3. **Services section** with auto-detected service list
4. **Device dropdown** with switching and "Add Device"
5. **Connection states** (start with "connected" only, add others as needed)
6. **Auto-detection** (polling, service lifecycle, smart port remapping) â€” requires device connection, build last
