---
title: Onboarding
description: Device setup and login flows
---

import { Callout } from 'fumadocs-ui/components/callout'

<Callout title="Product Philosophy">
  **Setup must be straightforward.** Users should connect their Distiller in under 2 minutes with clear guidance at every step. Every error state provides a clear path forward.
</Callout>

## Overview

The Distiller app handles two setup paths:

1. **New Device Setup** - First-time configuration of a fresh device
2. **Existing Device Login** - Connecting to an already-configured device

---

## Entry Points

When the app launches, users choose:

| Option | Purpose |
| :--- | :--- |
| **Setup New Device** | Configure a new Distiller (hotspot connection, WiFi setup, PIN creation) |
| **Login to Existing** | Connect to a device that's already set up (QR scan + PIN) |
| **Demo Mode** | Explore the app with simulated data (no device needed) |

---

## New Device Setup

### Step 1: Power On
User plugs in the Distiller and waits for the LED to blink. This signals the device is broadcasting its setup hotspot.

### Step 2: QR Code Scan
The app scans the QR code on the device's E-ink screen to get hotspot credentials.

**Backup paths**:
- Camera permission denied → Prompt to open Settings, or enter credentials manually
- QR scan fails → Show troubleshooting tips, offer manual entry

### Step 3: Hotspot Connection
The app connects to the Distiller's hotspot network.

**Backup paths**:
- User cancels → Explain why connection is needed, offer retry
- Connection timeout → Retry or manual WiFi guide
- Phone on strong WiFi → Prompt to disconnect first

### Step 4: Device Check
The app verifies communication with the device.

**Backup paths**:
- Connection lost → Auto-retry with countdown
- Version mismatch → Prompt to update device or app
- Already configured → Switch to login flow

### Step 5: WiFi Network Selection
The device scans for WiFi networks and shows the list.

**Backup paths**:
- No networks found → Auto-retry, offer manual entry
- Hidden network → Manual SSID entry form

### Step 6: Device Details
User enters WiFi password, names the device, and creates a 6-digit PIN.

### Step 7: Configuration Send
The app sends config to the device. Phone reconnects to home WiFi while device attempts to join.

**Backup paths**:
- Send failed → Retry or start over
- Device timeout (60s) → Option to try different network

### Step 8: Final Connection
User scans the device's updated QR code (now showing connection URL) to finish setup.

---

## Existing Device Login

### Step 1: Device Check
User confirms device is powered on and connected to network.

### Step 2: QR Code Scan
App scans QR code on device to get connection URL.

**Backup paths**:
- Camera denied → Manual URL entry
- Scan timeout → Troubleshooting tips

### Step 3: PIN Entry
User enters their 6-digit device PIN.

**Backup paths**:
- Wrong PIN → Retry (up to 3 attempts)
- Too many failures → Factory reset instructions
- Device offline → Troubleshooting with retry

---

## Completion

All paths lead to the **Projects Page**:
- New Device: "Setup Complete!" → Projects
- Existing Device: "Login Complete!" → Projects
- Demo: Direct to Projects with simulated data

---

## Design Principles

1. **Clear Path Forward**: Every error has a retry option or alternative method
2. **Show Complexity When Needed**: Manual entry appears only when automatic methods fail
3. **Respect Time**: Auto-retry shows progress, not just waiting
4. **Clear Status**: Processing states explain what's happening ("Connecting to device...")
5. **Security Required**: PIN protects device access; forgot PIN requires factory reset
